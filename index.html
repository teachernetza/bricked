<!DOCTYPE html>
<html lang="es" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="description" content="Bricked - Ambient Knowledge OS">
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>BRICKED | Ambient</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;700&family=Instrument+Serif:ital@0;1&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

    <script>
        /**
         * ‚ö†Ô∏è PEGA AQU√ç TU LINK CSV DE GOOGLE SHEETS ‚ö†Ô∏è
         */
        const GOOGLE_SHEET_CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vRH7tvjL9usAdbPX9T4hVaPjbk0eykei7sghqShiMzUMvUtpH80BEniasmAWBlgtjH4UjVy5dJBT-So/pub?output=csv"; 

        // Configuraci√≥n de Dise√±o "Ambient"
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Space Grotesk', 'sans-serif'],
                        serif: ['Instrument Serif', 'serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        bg: '#000000',
                        surface: '#0A0A0A',
                        border: 'rgba(255, 255, 255, 0.1)',
                        
                        // Sistema de Colores Sem√°nticos (Fallbacks)
                        tech: '#3B82F6',   // Azul
                        science: '#10B981', // Verde
                        art: '#D946EF',    // Rosa
                        history: '#F59E0B', // Dorado
                        default: '#6366F1' // √çndigo
                    },
                    height: { 'dvh': '100dvh' },
                    animation: {
                        'float': 'float 10s ease-in-out infinite',
                        'slide-up': 'slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'pulse-glow': 'pulseGlow 4s ease-in-out infinite',
                    },
                    keyframes: {
                        float: { '0%, 100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-20px)' } },
                        slideUp: { '0%': { transform: 'translateY(40px)', opacity: '0' }, '100%': { transform: 'translateY(0)', opacity: '1' } },
                        pulseGlow: { '0%, 100%': { opacity: '0.4' }, '50%': { opacity: '0.7' } }
                    }
                }
            }
        }
    </script>

    <style>
        /* Reset */
        :root { --safe-top: env(safe-area-inset-top, 20px); --safe-bottom: env(safe-area-inset-bottom, 20px); }
        body { background-color: #000; color: #FFF; overflow: hidden; overscroll-behavior-y: none; -webkit-font-smoothing: antialiased; }

        /* Scroll Engine */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        #feed-engine {
            height: 100dvh; width: 100vw;
            overflow-y: scroll; scroll-snap-type: y mandatory; scroll-behavior: smooth;
            position: relative; z-index: 10;
        }

        .brick-card {
            scroll-snap-align: start; scroll-snap-stop: always;
            height: 100dvh; width: 100vw;
            position: relative; overflow: hidden;
            display: flex; flex-direction: column;
            background-color: #000;
        }

        /* Ambient Orbs (Las bolas de luz de fondo) */
        .ambient-orb {
            position: absolute; border-radius: 50%;
            filter: blur(80px); opacity: 0.6;
            z-index: 0; pointer-events: none;
        }

        /* Emoji Gigante de Fondo (Marca de Agua) */
        .watermark-emoji {
            position: absolute; top: 10%; right: -10%;
            font-size: 400px; opacity: 0.05;
            filter: blur(10px) grayscale(100%);
            transform: rotate(-15deg);
            z-index: 0; pointer-events: none;
            user-select: none;
        }

        /* Glassmorphism Sidebar */
        .glass-sidebar {
            background: rgba(10, 10, 10, 0.8);
            backdrop-filter: blur(24px); -webkit-backdrop-filter: blur(24px);
            border-left: 1px solid rgba(255, 255, 255, 0.08);
        }

        /* Text Styles */
        .text-glow-sm { text-shadow: 0 0 10px rgba(255,255,255,0.3); }
        .text-glow-lg { text-shadow: 0 0 30px rgba(0,0,0,0.8); }

        /* Toggles */
        .toggle-switch {
            appearance: none; width: 40px; height: 20px;
            background: #222; border-radius: 20px; position: relative;
            cursor: pointer; transition: 0.3s;
        }
        .toggle-switch::after {
            content: ''; position: absolute; top: 2px; left: 2px;
            width: 16px; height: 16px; background: #666; border-radius: 50%;
            transition: 0.3s;
        }
        .toggle-switch:checked { background: #FFF; }
        .toggle-switch:checked::after { transform: translateX(20px); background: #000; }

        /* Loader */
        .pulse-bar { width: 4px; height: 20px; background: white; animation: pulseHeight 1s infinite ease-in-out; }
        @keyframes pulseHeight { 0%, 100% { height: 10px; opacity: 0.5; } 50% { height: 30px; opacity: 1; } }

    </style>
</head>
<body class="antialiased selection:bg-white selection:text-black">

    <div id="splash" class="fixed inset-0 z-[100] bg-black flex flex-col items-center justify-center transition-opacity duration-700">
        <div class="flex gap-1.5 mb-8">
            <div class="pulse-bar" style="animation-delay: 0s"></div>
            <div class="pulse-bar" style="animation-delay: 0.1s"></div>
            <div class="pulse-bar" style="animation-delay: 0.2s"></div>
        </div>
        <h1 class="text-6xl font-serif italic text-white tracking-tighter mix-blend-difference z-10">Bricked.</h1>
        <p class="text-[10px] font-mono text-gray-500 uppercase tracking-widest mt-2">Ambient Intelligence</p>
    </div>

    <nav class="fixed top-0 left-0 w-full z-40 px-6 pt-[var(--safe-top)] mt-6 flex justify-between items-start pointer-events-none mix-blend-exclusion">
        <div class="pointer-events-auto flex items-center gap-3">
            <div id="category-pill" class="hidden px-3 py-1 rounded-full border border-white/20 bg-white/10 backdrop-blur text-[10px] font-mono font-bold uppercase tracking-widest text-white">
                </div>
        </div>

        <button onclick="Sidebar.toggle()" class="pointer-events-auto p-3 rounded-full border border-white/10 bg-white/5 backdrop-blur hover:bg-white/20 transition-all group">
            <i data-lucide="align-right" class="w-6 h-6 text-white group-hover:scale-110 transition-transform"></i>
        </button>
    </nav>

    <main id="feed-engine"></main>

    <div id="loader-bottom" class="fixed bottom-10 left-1/2 -translate-x-1/2 z-30 opacity-0 transition-opacity pointer-events-none">
        <div class="w-1 h-8 bg-gradient-to-b from-transparent via-white to-transparent animate-pulse"></div>
    </div>

    <div id="toast-zone" class="fixed top-24 left-1/2 -translate-x-1/2 z-[60] flex flex-col gap-2 w-max max-w-[90vw] pointer-events-none"></div>

    <div id="sidebar-backdrop" onclick="Sidebar.toggle()" class="fixed inset-0 z-[45] bg-black/60 backdrop-blur-sm hidden opacity-0 transition-opacity duration-500"></div>
    
    <aside id="sidebar-panel" class="fixed inset-y-0 right-0 z-[50] w-80 glass-sidebar transform translate-x-full transition-transform duration-500 ease-[cubic-bezier(0.22,1,0.36,1)] flex flex-col">
        
        <div class="pt-[var(--safe-top)] px-8 pb-8 pt-8 flex justify-between items-end border-b border-white/5">
            <h2 class="font-serif text-3xl italic text-white">Ajustes</h2>
            <button onclick="Sidebar.toggle()" class="text-gray-400 hover:text-white transition"><i data-lucide="x" class="w-6 h-6"></i></button>
        </div>

        <div class="flex-1 overflow-y-auto p-8 no-scrollbar">
            
            <div class="grid grid-cols-2 gap-4 mb-10">
                <div class="p-4 rounded-xl bg-white/5 border border-white/5">
                    <span id="stat-read" class="block text-3xl font-serif text-white mb-1">0</span>
                    <span class="text-[9px] font-mono text-gray-400 uppercase tracking-wider">Le√≠dos</span>
                </div>
                <div class="p-4 rounded-xl bg-white/5 border border-white/5">
                    <span id="stat-likes" class="block text-3xl font-serif text-white mb-1">0</span>
                    <span class="text-[9px] font-mono text-gray-400 uppercase tracking-wider">Favoritos</span>
                </div>
            </div>

            <div class="mb-10">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xs font-mono text-gray-400 uppercase tracking-widest">Filtros Activos</h3>
                    <button onclick="App.resetFilters()" class="text-[10px] text-white underline opacity-50 hover:opacity-100">Reset</button>
                </div>
                <div id="filter-list" class="space-y-4"></div>
            </div>

            <div class="mt-auto space-y-3">
                <button onclick="App.reloadDB()" class="w-full py-4 bg-white text-black font-mono text-xs font-bold uppercase hover:bg-gray-200 transition rounded-lg">
                    Sincronizar Datos
                </button>
                <button onclick="App.hardReset()" class="w-full py-4 border border-white/10 text-red-400 font-mono text-xs uppercase hover:bg-red-900/10 transition rounded-lg">
                    Borrar Todo
                </button>
            </div>
        </div>
    </aside>

    <script>
        
        /**
         * üé® THEME ENGINE (AMBIENT STYLE)
         * Mapea categor√≠as a colores y emojis autom√°ticamente.
         */
        const ThemeEngine = {
            // Diccionario de categor√≠as y sus estilos visuales
            map: {
                "Tecnolog√≠a": { color: "#3B82F6", emoji: "ü¶æ" }, // Azul Robot
                "IA": { color: "#6366F1", emoji: "üß†" }, // Indigo Cerebro
                "Programaci√≥n": { color: "#10B981", emoji: "üíª" }, // Verde Laptop
                
                "Ciencia": { color: "#14B8A6", emoji: "üî¨" }, // Teal Micro
                "F√≠sica": { color: "#8B5CF6", emoji: "‚öõÔ∏è" }, // Violeta Atomo
                "Astronom√≠a": { color: "#0EA5E9", emoji: "ü™ê" }, // Sky Planeta
                "Biolog√≠a": { color: "#22C55E", emoji: "üß¨" }, // Verde ADN
                "Qu√≠mica": { color: "#A855F7", emoji: "üß™" }, // Purple Tubo

                "Historia": { color: "#D97706", emoji: "üèõÔ∏è" }, // Amber Columna
                "Filosof√≠a": { color: "#78716C", emoji: "üóø" }, // Stone Estatua
                "Arte": { color: "#EC4899", emoji: "üé®" }, // Pink Paleta
                "Literatura": { color: "#F59E0B", emoji: "‚úíÔ∏è" }, // Gold Pluma

                "Psicolog√≠a": { color: "#F43F5E", emoji: "üß©" }, // Rose Puzzle
                "Econom√≠a": { color: "#16A34A", emoji: "üìà" }, // Green Graph
                "Negocios": { color: "#0F172A", emoji: "üíº" }, // Slate Maletin

                "Curiosidades": { color: "#EAB308", emoji: "üí°" }, // Yellow Foco
                "M√∫sica": { color: "#F97316", emoji: "üéµ" }, // Orange Nota
                "Cine": { color: "#DC2626", emoji: "üé¨" } // Red Claqueta
            },

            get(category) {
                // Normalizar categor√≠a (quitar espacios, min√∫sculas, etc para buscar)
                const key = Object.keys(this.map).find(k => k.toLowerCase() === category.toLowerCase());
                
                if (key) return this.map[key];

                // Generador de color aleatorio consistente para categor√≠as desconocidas
                const hash = category.split("").reduce((a, b) => { a = ((a << 5) - a) + b.charCodeAt(0); return a & a }, 0);
                const colors = ["#3B82F6", "#10B981", "#F59E0B", "#EC4899", "#8B5CF6"];
                return {
                    color: colors[Math.abs(hash) % colors.length],
                    emoji: "‚ú®" // Emoji gen√©rico elegante
                };
            }
        };

        const MOCK_DB = [
            { Categoria: "Tecnolog√≠a", Titulo: "Ley de Moore", Resumen: "La observaci√≥n de que el n√∫mero de transistores en un microchip se duplica cada dos a√±os. Sin embargo, estamos llegando al l√≠mite f√≠sico at√≥mico.", Fuente: "Intel", Link: "#" },
            { Categoria: "F√≠sica", Titulo: "Entrelazamiento", Resumen: "Dos part√≠culas pueden estar unidas de tal forma que el estado de una afecta instant√°neamente a la otra, sin importar la distancia (incluso a√±os luz).", Fuente: "Nature", Link: "#" },
            { Categoria: "Filosof√≠a", Titulo: "Estoicismo", Resumen: "No controlas lo que te sucede, solo c√≥mo reaccionas. La paz mental viene de distinguir entre lo que depende de ti y lo que no.", Fuente: "Seneca", Link: "#" },
            { Categoria: "Arte", Titulo: "Wabi-Sabi", Resumen: "Est√©tica japonesa basada en la aceptaci√≥n de la transitoriedad y la imperfecci√≥n. Nada dura, nada est√° completo y nada es perfecto.", Fuente: "Japan Arts", Link: "#" }
        ];

        // --- STORE ---
        const Store = {
            key: 'bricked_ambient_v3',
            state: { viewed: [], likes: [], activeFilters: [], likedCats: {} },
            init() { const s = localStorage.getItem(this.key); if(s) this.state = JSON.parse(s); },
            save() { localStorage.setItem(this.key, JSON.stringify(this.state)); },
            
            markViewed(id) { 
                if(!this.state.viewed.includes(id)) { 
                    this.state.viewed.push(id); 
                    if(this.state.viewed.length > 500) this.state.viewed.shift();
                    this.save(); 
                } 
            },
            
            toggleLike(item) {
                const id = item.Titulo;
                if(this.state.likes.includes(id)) {
                    this.state.likes = this.state.likes.filter(x => x !== id);
                    if(this.state.likedCats[item.Categoria]) this.state.likedCats[item.Categoria]--;
                    this.save(); return false;
                } else {
                    this.state.likes.push(id);
                    this.state.likedCats[item.Categoria] = (this.state.likedCats[item.Categoria] || 0) + 1;
                    this.save(); return true;
                }
            },
            
            toggleFilter(cat) {
                this.state.activeFilters.includes(cat) 
                    ? this.state.activeFilters = this.state.activeFilters.filter(c => c !== cat)
                    : this.state.activeFilters.push(cat);
                this.save();
            }
        };

        // --- CONTENT ENGINE ---
        const Engine = {
            db: [],
            cats: new Set(),
            
            async load() {
                return new Promise(resolve => {
                    if(!GOOGLE_SHEET_CSV_URL || GOOGLE_SHEET_CSV_URL.length < 5) {
                        this.db = MOCK_DB; this.extractCats(); resolve(); return;
                    }
                    Papa.parse(GOOGLE_SHEET_CSV_URL, {
                        download: true, header: true, skipEmptyLines: true,
                        complete: (res) => {
                            const valid = res.data.filter(r => r.Titulo && r.Categoria);
                            this.db = valid.length ? valid : MOCK_DB;
                            this.extractCats(); resolve();
                        },
                        error: () => { this.db = MOCK_DB; this.extractCats(); resolve(); }
                    });
                });
            },
            
            extractCats() { this.db.forEach(i => this.cats.add(i.Categoria)); },
            
            getNext() {
                const { viewed, activeFilters, likedCats } = Store.state;
                let pool = this.db;
                
                // Filtros
                if(activeFilters.length > 0) pool = pool.filter(i => activeFilters.includes(i.Categoria));
                
                // No vistos
                let fresh = pool.filter(i => !viewed.includes(i.Titulo));
                let candidates = fresh.length > 0 ? fresh : pool; // Fallback loop
                
                if(!candidates.length) return null;

                // Scoring (Adaptativo)
                const scored = candidates.map(item => {
                    let score = Math.random() * 10;
                    score += (likedCats[item.Categoria] || 0) * 5; // Boost por likes
                    return { item, score };
                });
                
                scored.sort((a,b) => b.score - a.score);
                return scored[0].item;
            }
        };

        // --- UI ---
        const UI = {
            container: document.getElementById('feed-engine'),
            
            renderCard(data) {
                const el = document.createElement('article');
                el.className = 'brick-card bg-black border-b border-white/5';
                
                // AMBIENT THEME GENERATOR
                const theme = ThemeEngine.get(data.Categoria);
                const isLiked = Store.state.likes.includes(data.Titulo);

                el.innerHTML = `
                    <div class="absolute inset-0 z-0 overflow-hidden">
                        <div class="ambient-orb w-[600px] h-[600px] -top-20 -left-20 animate-pulse-glow" 
                             style="background: radial-gradient(circle, ${theme.color} 0%, transparent 70%); opacity: 0.25;"></div>
                        
                        <div class="ambient-orb w-[400px] h-[400px] bottom-0 right-0 animate-float" 
                             style="background: radial-gradient(circle, ${theme.color} 0%, transparent 70%); opacity: 0.15; animation-delay: 2s;"></div>

                        <div class="watermark-emoji">${theme.emoji}</div>
                        
                        <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20 mix-blend-overlay"></div>
                    </div>

                    <div class="relative z-10 flex flex-col h-full w-full p-8 pt-32 pb-[calc(var(--safe-bottom)+2rem)]">
                        
                        <div class="flex items-center gap-3 opacity-0 animate-slide-up" style="animation-delay: 100ms">
                            <div class="w-10 h-10 rounded-full bg-white/10 backdrop-blur flex items-center justify-center text-xl shadow-lg border border-white/10">
                                ${theme.emoji}
                            </div>
                            <span class="text-xs font-mono font-bold uppercase tracking-widest text-white/60">
                                ${data.Categoria}
                            </span>
                        </div>

                        <div class="flex flex-col justify-center my-auto opacity-0 animate-slide-up" style="animation-delay: 200ms">
                            <h2 class="text-5xl md:text-7xl font-serif italic font-thin leading-[0.9] mb-8 text-white text-glow-lg tracking-tighter">
                                ${data.Titulo}
                            </h2>
                            
                            <div class="border-l border-white/20 pl-6 py-1">
                                <p class="text-xl md:text-2xl text-gray-300 font-sans font-light leading-relaxed text-glow-sm">
                                    ${data.Resumen}
                                </p>
                            </div>
                        </div>

                        <div class="mt-auto pt-8 flex items-end justify-between border-t border-white/10 opacity-0 animate-slide-up" style="animation-delay: 300ms">
                            <div class="flex flex-col gap-1 max-w-[60%]">
                                <span class="text-[9px] font-mono text-gray-500 uppercase tracking-widest">Fuente</span>
                                <span class="text-sm font-serif italic text-white truncate">${data.Fuente}</span>
                            </div>

                            <div class="flex gap-4">
                                <a href="${data.Link}" target="_blank" class="w-14 h-14 flex items-center justify-center border border-white/20 rounded-full hover:bg-white hover:text-black transition-all active:scale-90 group">
                                    <i data-lucide="arrow-up-right" class="w-6 h-6"></i>
                                </a>
                                
                                <button onclick="App.handleLike(this, '${data.Titulo}', '${data.Categoria}')" class="w-14 h-14 flex items-center justify-center border border-white/20 rounded-full hover:bg-white/10 transition-all active:scale-90 group">
                                    <i data-lucide="heart" class="w-6 h-6 transition-colors duration-300 ${isLiked ? 'text-red-500 fill-red-500' : 'text-gray-400 group-hover:text-white'}"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;

                this.container.appendChild(el);
                this.observer.observe(el);
                lucide.createIcons();
            },

            renderSidebar() {
                const list = document.getElementById('filter-list');
                list.innerHTML = '';
                const cats = Array.from(Engine.cats).sort();
                
                cats.forEach(cat => {
                    const theme = ThemeEngine.get(cat);
                    const active = Store.state.activeFilters.includes(cat);
                    
                    const div = document.createElement('label');
                    div.className = "flex items-center justify-between p-4 rounded-xl bg-white/5 border border-white/5 cursor-pointer hover:bg-white/10 transition";
                    div.innerHTML = `
                        <div class="flex items-center gap-3">
                            <span class="text-lg">${theme.emoji}</span>
                            <span class="font-mono text-xs uppercase font-bold ${active ? 'text-white' : 'text-gray-500'}">${cat}</span>
                        </div>
                        <input type="checkbox" class="toggle-switch" ${active ? 'checked' : ''} onchange="App.handleFilter('${cat}')">
                    `;
                    list.appendChild(div);
                });

                document.getElementById('stat-read').innerText = Store.state.viewed.length;
                document.getElementById('stat-likes').innerText = Store.state.likes.length;
            },

            setupObserver() {
                this.observer = new IntersectionObserver((entries) => {
                    entries.forEach(e => {
                        if(e.isIntersecting) {
                            // Cambiar Pildora del Nav
                            const cat = e.target.querySelector('.font-mono.uppercase').innerText;
                            const pill = document.getElementById('category-pill');
                            pill.innerText = cat;
                            pill.classList.remove('hidden');

                            // Analytics
                            const title = e.target.querySelector('h2').innerText.trim();
                            Store.markViewed(title);

                            // Infinite Load
                            if(!e.target.nextElementSibling) App.loadNext();
                        }
                    });
                }, { threshold: 0.5 });
            },

            toast(msg) {
                const t = document.createElement('div');
                t.className = "px-6 py-3 bg-white text-black rounded-full font-mono text-xs font-bold uppercase tracking-widest animate-slide-up shadow-2xl";
                t.innerText = msg;
                document.getElementById('toast-zone').appendChild(t);
                setTimeout(() => t.remove(), 2000);
            }
        };

        // --- APP CONTROLLER ---
        const Sidebar = {
            panel: document.getElementById('sidebar-panel'),
            bg: document.getElementById('sidebar-backdrop'),
            toggle() {
                const open = !this.panel.classList.contains('translate-x-full');
                if(!open) {
                    this.panel.classList.remove('translate-x-full');
                    this.bg.classList.remove('hidden'); setTimeout(() => this.bg.classList.remove('opacity-0'), 10);
                    UI.renderSidebar();
                } else {
                    this.panel.classList.add('translate-x-full');
                    this.bg.classList.add('opacity-0'); setTimeout(() => this.bg.classList.add('hidden'), 500);
                }
            }
        };

        const App = {
            async init() {
                Store.init();
                await Engine.load();
                
                // Quitar Splash
                const splash = document.getElementById('splash');
                splash.style.opacity = '0';
                setTimeout(() => { splash.remove(); this.start(); }, 700);
            },

            start() {
                UI.setupObserver();
                document.getElementById('loader-bottom').style.opacity = '1';
                this.loadNext(); this.loadNext(); this.loadNext();
            },

            loadNext() {
                const data = Engine.getNext();
                if(data) UI.renderCard(data);
                else UI.toast("Fin del contenido");
            },

            handleLike(btn, title, cat) {
                const liked = Store.toggleLike({ Titulo: title, Categoria: cat });
                const icon = btn.querySelector('svg');
                if(liked) {
                    icon.classList.add('text-red-500', 'fill-red-500'); icon.classList.remove('text-gray-400');
                    UI.toast("Guardado");
                } else {
                    icon.classList.remove('text-red-500', 'fill-red-500'); icon.classList.add('text-gray-400');
                }
            },

            handleFilter(cat) {
                Store.toggleFilter(cat);
                document.getElementById('feed-engine').innerHTML = '';
                this.loadNext(); this.loadNext();
            },
            
            resetFilters() {
                Store.state.activeFilters = []; Store.save();
                UI.renderSidebar();
                document.getElementById('feed-engine').innerHTML = '';
                this.loadNext(); this.loadNext();
            },

            reloadDB() { location.reload(); },
            hardReset() { localStorage.removeItem(Store.key); location.reload(); }
        };

        window.onload = () => App.init();

    </script>
</body>
</html>
